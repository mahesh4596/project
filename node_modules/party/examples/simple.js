
/**
 * Module dependencies.
 */

var party = require('../')
  , fs = require('fs')
  , file = __dirname + '/../test/cases/preamble'
  , str = fs.readFileSync(file, 'ascii').replace(/\n/g, '\r\n')
  , str = new Buffer(str);

var parser = party.createParser('0016e6db2c7a28992004a483da69');

parser.on('part', function(part){
  console.log('\nPART:');
  console.log(part.header);
  part.decode().on('data', function(chunk){
    console.log(chunk.toString());
  });
});

parser.on('end', function(){
  console.log('\nEND');
});

parser.parse(str);
