
/**
 * Module dependencies.
 */

var assert = require('assert')
  , helpers = require('../helpers');

exports.boundary = '0016e6db2c7a28991a04a483da67';

exports.test = function(parser, next){
  parser.on('part', function(part){
    part.header.should.have.property('content-type', 'text/markdown; awesome=yes; charset=utf-8');
    part.header.should.have.property('content-length', '15');
    part.header.should.have.property('x-learnboosters', 'tobi , loki , jane , braille');
    var buf = '';
    part.on('data', function(chunk){ buf += chunk });
    part.on('end', function(){
      buf.should.equal('some _foo_ bar.');
      next();
    });
  });
};